# 🎮 КАК РАБОТАЕТ ТОРГОВЛЯ В СИСТЕМЕ

## 📋 **Режимы работы:**

### **🤖 Автоматический режим (НОВЫЙ!):**
```bash
python run.py --mode auto
# или
run_auto.bat
```

**Что происходит:**
- ✅ **Автоматический анализ** каждые 3 минуты
- ✅ **Автоматическая торговля** каждые 1 час
- ✅ **Интерактивная консоль** для ручного управления
- ✅ **Мониторинг в реальном времени**

### **🎮 Интерактивный режим (по умолчанию):**
```bash
python run.py
```

**Что происходит:**
- ✅ **Инициализация компонентов** - все системы готовы
- ✅ **Интерактивная консоль** - ожидание команд
- ❌ **Торговля НЕ запускается** - только по команде

## 🔧 **Как это работает:**

### **1. 🚀 При запуске системы:**
```bash
python run.py
```

**Что происходит:**
- ✅ **Инициализация компонентов** - все системы готовы
- ✅ **Подключение к T-Bank** - брокер готов
- ✅ **Загрузка нейросетей** - модели готовы к анализу
- ✅ **Запуск интерактивной консоли** - ожидание команд
- ❌ **Торговля НЕ запускается** - только по команде

### **2. 🎮 Интерактивные команды для торговли:**

#### **📊 Анализ рынка:**
```
neyro-invest> analyze
```
- Запускает анализ нейросетями
- Генерирует торговые сигналы
- **НЕ торгует автоматически**

#### **📈 Запуск торговли:**
```
neyro-invest> trade
```
- Выполняет торговые операции
- Покупает/продает по сигналам
- **Торгует только по этой команде**

#### **⚡ Ручные операции:**
```
neyro-invest> buy SBER 100
neyro-invest> sell GAZP 50
```
- Прямые торговые операции
- Немедленное исполнение

## ⏰ **Интервалы в конфигурации:**

### **📋 Настройки сигналов:**
```yaml
signal_check_interval: 3600  # 1 час между проверками
cooldown_period: 7200        # 2 часа между сигналами
max_signals_per_day: 3       # Максимум 3 сигнала в день
```

### **💡 Что это означает:**
- **`signal_check_interval`** - как часто система проверяет сигналы (только при вызове `analyze`)
- **`cooldown_period`** - минимальный интервал между торговыми операциями
- **`max_signals_per_day`** - ограничение на количество сигналов в день

## 🎯 **Практическое использование:**

### **🤖 Автоматический режим:**

#### **1. Запуск автоматической торговли:**
```bash
python run.py --mode auto
# или
run_auto.bat
```

#### **2. Что происходит автоматически:**
- **Анализ каждые 3 минуты** - нейросети анализируют рынок
- **Торговля каждые 1 час** - выполнение торговых операций
- **Обновление данных каждые 60 секунд** - актуальные цены
- **Синхронизация портфеля каждые 60 секунд** - данные из T-Bank

#### **3. Интерактивные команды (доступны во время работы):**
```
neyro-invest> status          # Статус системы
neyro-invest> portfolio       # Состояние портфеля
neyro-invest> positions       # Текущие позиции
neyro-invest> analyze         # Принудительный анализ
neyro-invest> trade           # Принудительная торговля
neyro-invest> buy SBER 100    # Ручная покупка
neyro-invest> sell GAZP 50    # Ручная продажа
```

### **🎮 Интерактивный режим:**

#### **1. Запуск системы:**
```bash
python run.py
```

#### **2. Проверка статуса:**
```
neyro-invest> status
neyro-invest> portfolio
```

#### **3. Анализ рынка:**
```
neyro-invest> analyze
```

#### **4. Торговля (если есть сигналы):**
```
neyro-invest> trade
```

#### **5. Проверка результатов:**
```
neyro-invest> positions
neyro-invest> portfolio
```

### **⚡ Быстрый анализ и торговля:**
```
neyro-invest> analyze
neyro-invest> trade
```

## 🚨 **Важные особенности:**

### **🔒 Безопасность:**
- **Нет автоматической торговли** - только по командам
- **Каждая операция под контролем** пользователя
- **Возможность отмены** в любой момент

### **⏱️ Контроль времени:**
- **Анализ по требованию** - команда `analyze`
- **Торговля по требованию** - команда `trade`
- **Ручные операции** - команды `buy`/`sell`

### **📊 Мониторинг:**
- **Статус системы** - команда `status`
- **Состояние портфеля** - команда `portfolio`
- **Текущие позиции** - команда `positions`

## 🎮 **Команды для торговли:**

### **📋 Информационные:**
- `help` - Справка по командам
- `status` - Статус системы
- `portfolio` - Информация о портфеле
- `positions` - Текущие позиции
- `balance` - Баланс счета

### **⚡ Торговые:**
- `analyze` - Анализ рынка (генерирует сигналы)
- `trade` - Выполнение торговли (покупает/продает)
- `buy SYMBOL QUANTITY` - Покупка
- `sell SYMBOL QUANTITY` - Продажа

### **🚨 Экстренные:**
- `sell_all` - Продать все позиции

## ✅ **Итог:**

### **🤖 Автоматический режим:**
**🎯 Торговля начинается автоматически!**

- **Автоматический анализ** каждые 3 минуты
- **Автоматическая торговля** каждые 1 час
- **Интерактивная консоль** для ручного управления
- **Мониторинг в реальном времени**

**💡 Для запуска автоматической торговли:**
```bash
python run.py --mode auto
# или
run_auto.bat
```

### **🎮 Интерактивный режим:**
**🎯 Торговля НЕ начинается автоматически!**

- **Система инициализируется** и готова к работе
- **Торговля запускается** только по командам `analyze` и `trade`
- **Полный контроль** над всеми операциями
- **Безопасность** - никаких автоматических сделок

**💡 Для ручной торговли используйте команды:**
```
neyro-invest> analyze
neyro-invest> trade
```
