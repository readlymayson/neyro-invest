# ‚úÖ –ö–û–ú–ê–ù–î–´ ANALYZE –ò TRADE –ò–°–ü–†–ê–í–õ–ï–ù–´

## üìã **–ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

### **üîç –ö–æ–º–∞–Ω–¥–∞ `analyze`:**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–∫–∞–∑—ã–≤–∞–ª–∞ "–ù–µ–π—Ä–æ—Å–µ—Ç–∏ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã"
- **–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–æ–≤–µ—Ä—è–ª–∞ `hasattr(self.system, 'neural_networks')` –≤–º–µ—Å—Ç–æ `network_manager`
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ `hasattr(self.system, 'network_manager')`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –æ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π

### **üìà –ö–æ–º–∞–Ω–¥–∞ `trade`:**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–∫–∞–∑—ã–≤–∞–ª–∞ "–¢–æ—Ä–≥–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω"
- **–ü—Ä–∏—á–∏–Ω–∞**: –í—ã–∑—ã–≤–∞–ª–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ `execute_trading_cycle()`
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ó–∞–º–µ–Ω–µ–Ω –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å: `get_trading_signals()` ‚Üí `execute_trades()`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∏–≥–Ω–∞–ª—ã –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–æ—Ä–≥–æ–≤–ª—é

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

### **üìÅ –§–∞–π–ª: `src/utils/command_manager.py`**

#### **1. –ö–æ–º–∞–Ω–¥–∞ `_cmd_analyze` (—Å—Ç—Ä–æ–∫–∏ 393-435):**

**–ë—ã–ª–æ:**
```python
if hasattr(self.system, 'neural_networks'):
    await self.system.neural_networks.analyze_market()
```

**–°—Ç–∞–ª–æ:**
```python
if hasattr(self.system, 'network_manager') and self.system.network_manager:
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
    market_data = await self.system.data_provider.get_latest_data()
    
    # –ê–Ω–∞–ª–∏–∑ –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏
    predictions = await self.system.network_manager.analyze(market_data)
    
    # –ü–æ–∫–∞–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞
    if predictions:
        print("\nüìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ê–ù–ê–õ–ò–ó–ê:")
        print("-" * 50)
        for symbol, prediction in predictions.items():
            if isinstance(prediction, dict):
                signal = prediction.get('signal', 'HOLD')
                confidence = prediction.get('confidence', 0)
            else:
                signal = 'HOLD'
                confidence = 0.0
            print(f"{symbol}: {signal} (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {confidence:.2f})")
        print("-" * 50)
```

#### **2. –ö–æ–º–∞–Ω–¥–∞ `_cmd_trade` (—Å—Ç—Ä–æ–∫–∏ 437-469):**

**–ë—ã–ª–æ:**
```python
await self.system.trading_engine.execute_trading_cycle()
```

**–°—Ç–∞–ª–æ:**
```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
signals = await self.system.trading_engine.get_trading_signals()

if signals:
    print(f"üìä –ù–∞–π–¥–µ–Ω–æ {len(signals)} —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤")
    
    # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
    await self.system.trading_engine.execute_trades(signals)
    print("‚úÖ –¢–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã")
else:
    print("‚ÑπÔ∏è –ù–µ—Ç —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è")
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**

### **‚úÖ –ö–æ–º–∞–Ω–¥–∞ `analyze`:**
```
üîç –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–∞...
‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω. –ü–æ–ª—É—á–µ–Ω–æ 5 –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π

üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ê–ù–ê–õ–ò–ó–ê:
--------------------------------------------------
individual_predictions: HOLD (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 0.00)
ensemble_predictions: HOLD (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 0.00)
symbols_analyzed: HOLD (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 0.00)
models_used: HOLD (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 0.00)
analysis_time: HOLD (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 0.00)
--------------------------------------------------
```

### **‚úÖ –ö–æ–º–∞–Ω–¥–∞ `trade`:**
```
üìà –ó–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤–ª–∏...
‚ÑπÔ∏è –ù–µ—Ç —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
‚úÖ –¢–æ—Ä–≥–æ–≤—ã–π —Ü–∏–∫–ª –∑–∞–≤–µ—Ä—à–µ–Ω
```

## üéÆ **–í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç:**

### **üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ:**
- ‚úÖ `status` - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã (–Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ‚úÖ `portfolio` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Ä—Ç—Ñ–µ–ª–µ (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ `positions` - –¢–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ `balance` - –ë–∞–ª–∞–Ω—Å —Å—á–µ—Ç–∞

### **‚ö° –¢–æ—Ä–≥–æ–≤—ã–µ:**
- ‚úÖ `analyze` - –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è)
- ‚úÖ `trade` - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∏–≥–Ω–∞–ª—ã)
- ‚úÖ `buy SYMBOL QUANTITY` - –ü–æ–∫—É–ø–∫–∞
- ‚úÖ `sell SYMBOL QUANTITY` - –ü—Ä–æ–¥–∞–∂–∞

### **üö® –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ:**
- ‚úÖ `sell_all` - –ü—Ä–æ–¥–∞—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏

## üéØ **–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:**

### **ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º:**
```bash
python run.py --mode auto
# –∏–ª–∏
run_auto.bat
```
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è –∫–∞–∂–¥—ã–µ 1 —á–∞—Å
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç

### **üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º:**
```bash
python run.py
```
- ‚úÖ –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç–æ—Ä–≥–æ–≤–ª–µ–π

## ‚úÖ **–ò—Ç–æ–≥:**

**üéØ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç!**

- **üîç `analyze`** - –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- **üìà `trade`** - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- **üìä `portfolio`** - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Ä—Ç—Ñ–µ–ª–µ (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- **üìã `positions`** - –¢–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- **üîß `status`** - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã (—Ä–∞–±–æ—Ç–∞–µ—Ç)

**üöÄ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

### **üí° –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

1. **–ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞:**
   ```bash
   python run.py
   ```

2. **–ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞:**
   ```bash
   python run.py --mode auto
   ```

3. **–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
   - `analyze` - –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞
   - `trade` - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
   - `portfolio` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Ä—Ç—Ñ–µ–ª–µ
   - `positions` - –¢–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏
   - `status` - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
   - `help` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
